<html>
   <script type='text/javascript'>
      function initEmbeddedMessaging() {
      	try {
      		embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
      		//Hiding Chat Button on page load
        	embeddedservice_bootstrap.settings.hideChatButtonOnLoad = true;
      
      		embeddedservice_bootstrap.init(
				'00D9X000007KvRc',
				'ChatBassols',
				'https://bassolsenergia--uat.sandbox.my.site.com/ESWChatBassols1731323406557',
				{
					scrt2URL: 'https://bassolsenergia--uat.sandbox.my.salesforce-scrt.com'
				}
			);
      	} catch (err) {
      		console.error('Error loading Embedded Messaging: ', err);
      	}
      };
   </script>
  
  <script type='text/javascript' src='https://bassolsenergia--uat.sandbox.my.site.com/ESWChatBassols1731323406557/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
   <div style="position: fixed; bottom: 35px; right: 35px; cursor: pointer; color: white">
         <div onclick="launchChat()">
            <img 
               src="https://cdn-icons-png.flaticon.com/512/5962/5962463.png"
               style="border-radius: 50%; float:left; margin: 5px;"
               height="50px"
               width="50px"/>
         </div>
   </div>
   <script>
	function launchChat() {
		console.log('entramos a launchChat');
           embeddedservice_bootstrap.utilAPI.launchChat()
            .then(() => {
                embedded_svc.addEventHandler("afterMaximize", function(data) {
                    console.log("afterMaximize event was fired.");
                });
            })
            .catch(() => {
                // Error handling if chat fails to launch
            });
       }
   </script>
</html>
