<html>
   <script type='text/javascript'>
      function initEmbeddedMessaging() {
      	try {
      		embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
      		//Hiding Chat Button on page load
        	embeddedservice_bootstrap.settings.hideChatButtonOnLoad = true;
		 window.addEventListener("onEmbeddedMessagingReady", () => {
		                console.log("Received the onEmbeddedMessagingReady event…");
		
		                // Send data to Salesforce
		                console.log("miaw", embeddedservice_bootstrap);
		                //embeddedservice_bootstrap.utilAPI.hideChatButton();
		            });
		
		
      		embeddedservice_bootstrap.init(
				'00D9X000007KvRc',
				'ChatBassols',
				'https://bassolsenergia--uat.sandbox.my.site.com/ESWChatBassols1731323406557',
				{
					scrt2URL: 'https://bassolsenergia--uat.sandbox.my.salesforce-scrt.com'
				}
			);
		console.log('chat inicializado');
      	} catch (err) {
      		console.error('Error loading Embedded Messaging: ', err);
      	}
      };
   </script>
  
   <button id="launchChatButton" onclick="launchChat()">Click to contact support</button>
	<div style="position: fixed; bottom: 35px; right: 35px; cursor: pointer; color: white">
         <div onclick="launchChat()">
            <img 
               src="https://cdn-icons-png.flaticon.com/512/5962/5962463.png"
               style="border-radius: 50%; float:left; margin: 5px;"
               height="50px"
               width="50px"/>
         </div>
   </div>
   <script>
	function launchChat() {
        embeddedservice_bootstrap.utilAPI.showChatButton();
        embeddedservice_bootstrap.utilAPI.launchChat()
            .then(() => {
                // Success handler used to perform actions
                // when the chat client launches successfully.
                // For example, create a method that disables the launch chat button.
                disableLaunchChatButton();
            }).catch(() => {
                // Error handler used to perform actions
                // if the chat client fails to launch.
                // For example, create a method that hides the launch chat button.
                hideLaunchChatButton();
            }).finally(() => {
                // Finally handler used to perform any clean-up actions
                // regardless of whether the chat client launches successfully or not.
                // For example, create a method that logs the user’s attempt to chat.
                logEndUserAttemptToChat();
            });
    }
	
   </script>
</html>
